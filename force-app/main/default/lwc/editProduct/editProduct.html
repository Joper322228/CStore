<template>
    <lightning-record-edit-form record-id={recordId} object-api-name="Product2" onsuccess={handleSuccess}>

        <lightning-messages></lightning-messages>

        <lightning-input-field field-name={nameField}></lightning-input-field>
        <lightning-input-field field-name={familyField}></lightning-input-field>
        <lightning-input-field field-name={markField}></lightning-input-field>
        <lightning-input-field field-name={amountField}></lightning-input-field>
        <lightning-input-field field-name={modelField}></lightning-input-field>
        <lightning-input-field field-name={codeField}></lightning-input-field>
        <lightning-input-field field-name={descriptionField}></lightning-input-field>

        <lightning-input value={standartPrice} required type="number" 
            formatter="currency" step="0.01" label="Standart Price" onchange={handleStandartPriceChange}></lightning-input>

        <div style="margin-left:35%">
            <lightning-file-upload
                name="uploadFile"
                accept={acceptedFormats}
                record-id={recordId}
                onuploadfinished={handleUploadFinished}
                multiple>
            </lightning-file-upload>
        </div>
        <div style="margin-left:5%">
            <div class="slds-page-header__row
                slds-var-m-top_x-small
                slds-var-m-left_medium
                slds-grid slds-wrap">
                <ul class="slds-grid slds-wrap slds-gutters">
                    <template if:true={loaded}>
                        <template for:each={files} for:item="file">
                            <c-preview-file-thumbnail-card
                                onupdateimagelist={handleUpdateList}
                                onupdateprofileimage={handleUpdateProfileImage}
                                key={file.Id}
                                file={file}
                                record-id={recordId}
                                thumbnail={file.thumbnailFileCard}>
                            </c-preview-file-thumbnail-card>
                        </template>
                    </template>
                </ul>
            </div>
        </div>

        <div class="slds-align_absolute-center slds-p-around_medium">
            <lightning-button class="slds-m-around_xx-small" label="Close" onclick={handleCloseModal}></lightning-button>
            <lightning-button class="slds-m-around_xx-small" label="Save" type="submit" variant="brand" ></lightning-button>
        </div>

    </lightning-record-edit-form>
</template>